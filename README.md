# Description
https://github.com/JUNYA-727/bitcoin_system_trade_model
で良かったモデルであるLightGBM+Optunaのモデル改良での作成手順の記載及び､どこで売買を行っているかの可視化を図り､更に高い利益率を出せるようにした｡

# Model Features
モデルの概要
前回に比べて特徴量を増やしてモデルの作成を至った｡

- 主な特徴量
  - Price(終値)
  - SMA(単純移動平均線)､期間は10と20
  - Bollinger band(ボリンジャーバンド)､期間は20で偏差は±2σ
  - MACD(移動平均収束拡散手法)､期間は12と26
  - RSI(相対力指数)､期間は9と14
  - Momentum(モメンタム)､期間は19
  - Stochastic RSI Oscillator(ストキャスティクスRSIオシレーター)､期間は14
  - Variance(分散)､期間は5
  - Linear Regression(線形回帰)､期間は14
  - Linear Regression Angle(線形回帰の角度)､期間は14
 
![content1 (1)のコピー](https://user-images.githubusercontent.com/61785070/144809417-afa29607-57be-437a-b7dc-d44f8d78b36a.png)

##### 需要な特徴量として､ストキャスティクスRSIオシレーターのfastd,fastk,モメンタム､分散が上位に食い込んでいる｡

## テストデータで実際に売買をした際のProfit(儲け)のグラフ
![content2 (1)のコピー](https://user-images.githubusercontent.com/61785070/144809428-f11555aa-0bb3-471b-9a66-5f3c95229071.png)

## どこで売買をしたのかを可視化したグラフ　
![content3 (1)のコピー](https://user-images.githubusercontent.com/61785070/144809431-969592d4-fded-4847-9041-8f8c68e6851c.png)

##### 赤い点は売り注文を行った場所､青い点は買い注文を行った場所､またこのシミュレーションの特徴として､複数エントリーすることはできず､1回エントリーしてから決済を行うまで再び注文をできないようにしている｡このグラフからわかるように､押し目買い､戻り売りをすることが多い｡理由としては､重要な特徴量として､ストキャスティクスRSI､勢いを指すモメンタムが上位にきているからだと考える｡特に､ストキャスティクスRSIは､売られ過ぎや買われすぎ等を数値で表しており､トレンドの反転として使用する機会が多いからです｡また､モメンタムは価格の上昇や下降の勢いが下がっていると判断をした際に逆でエントリーした方が勝率が高いとモデルが学習したからこのような結果になったのだと考える｡しかし､取引を行う上で逆張りはリスクが多い手法だと言われているため､順張りでトレードする際には､上記で上げた特徴量の重要度を下げて学習するのも良いと思う｡
